(()=>{var e={};e.id=6660,e.ids=[6660],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},89195:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),s(93782),s(83292),s(38754);var t=s(71041),a=s(87589),i=s(79722),n=s.n(i),o=s(5271),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["dashboard",{children:["finance",{children:["loans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,93782)),"/workspaces/DeviroxN-Business-website/app/dashboard/finance/loans/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,83292)),"/workspaces/DeviroxN-Business-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,38754,23)),"next/dist/client/components/not-found-error"]}],u=["/workspaces/DeviroxN-Business-website/app/dashboard/finance/loans/page.tsx"],c="/dashboard/finance/loans/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/finance/loans/page",pathname:"/dashboard/finance/loans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41920:()=>{},16759:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,43254,23)),Promise.resolve().then(s.t.bind(s,16325,23)),Promise.resolve().then(s.t.bind(s,95633,23)),Promise.resolve().then(s.t.bind(s,19876,23)),Promise.resolve().then(s.t.bind(s,93308,23)),Promise.resolve().then(s.t.bind(s,52456,23))},17588:()=>{},93782:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(21671);s(15788);var a=s(72263),i=s(14282),n=s(65056),o=s(46017);async function l(){let e=await (0,a.getServerSession)(i.L);if(!e)return t.jsx("div",{children:"Unauthorized"});let r=e.user?.id,s=await n.default.loan.findMany({where:{userId:r}});return(0,t.jsxs)(o.Z,{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Your Loans"}),t.jsx("ul",{className:"mt-4 space-y-2",children:s.map(e=>(0,t.jsxs)("li",{className:"p-3 bg-white rounded shadow",children:["Amount: ",e.amount," â€” Status: ",e.status]},e.id))})]})}},83292:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i,metadata:()=>a});var t=s(21671);s(88432),s(15788);let a={title:"DeviroxN Enterprise",description:"Enterprise app scaffold for Finance, Marketplace, and Real Estate"};function i({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{children:e})})}},46017:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(21671);function a({children:e}){return t.jsx("div",{className:"min-h-screen bg-slate-50",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[t.jsx("header",{className:"py-4 border-b mb-6",children:"Dashboard Header"}),t.jsx("main",{children:e})]})})}s(15788)},14282:(e,r,s)=>{"use strict";s.d(r,{L:()=>p});var t=s(75179),a=s.n(t),i=s(69043),n=s(15219),o=s(51452),l=s(12709),d=s(65056),u=s(67096),c=s.n(u);let p={adapter:(0,l.N)(d.default),providers:[(0,i.Z)({clientId:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET}),(0,n.Z)({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET}),(0,o.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let r=await d.default.user.findUnique({where:{email:e.email}});return r&&r.hashedPassword&&await c().compare(e.password,r.hashedPassword)?{id:r.id,email:r.email,name:r.name,role:r.role}:null}})],session:{strategy:"jwt"},callbacks:{async signIn({user:e,account:r,profile:s}){try{let s=await d.default.user.findUnique({where:{email:e.email}});if(!s)return!0;if(r&&r.provider&&"credentials"!==r.provider&&!s.isApproved)return await d.default.user.update({where:{email:e.email},data:{isApproved:!0}}),!0;if(!1===s.isApproved)return"/unauthorized";return!0}catch(e){return console.error("signIn callback error",e),!1}},async jwt({token:e,user:r}){if(r){let s=await d.default.user.findUnique({where:{email:r.email}});s&&(e.role=s.role,e.isApproved=s.isApproved)}return e},session:async({session:e,token:r})=>(e.user=e.user||{},e.user.role=r.role,e.user.isApproved=r.isApproved,e)},secret:process.env.NEXTAUTH_SECRET};a()(p)},65056:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i,prisma:()=>a});var t=s(53524);let a=global.prisma||new t.PrismaClient,i=a},88432:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[2589,3881,5628],()=>s(89195));module.exports=t})();