(()=>{var e={};e.id=5439,e.ids=[5439],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},87851:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(24642),t(83292),t(38754);var i=t(71041),s=t(87589),n=t(79722),a=t.n(n),o=t(5271),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["verify",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,24642)),"/workspaces/DeviroxN-Business-website/app/verify/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,83292)),"/workspaces/DeviroxN-Business-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,38754,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/DeviroxN-Business-website/app/verify/page.tsx"],p="/verify/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/verify/page",pathname:"/verify",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41920:()=>{},16759:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,43254,23)),Promise.resolve().then(t.t.bind(t,16325,23)),Promise.resolve().then(t.t.bind(t,95633,23)),Promise.resolve().then(t.t.bind(t,19876,23)),Promise.resolve().then(t.t.bind(t,93308,23)),Promise.resolve().then(t.t.bind(t,52456,23))},17588:()=>{},83292:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>s});var i=t(21671);t(88432),t(15788);let s={title:"DeviroxN Enterprise",description:"Enterprise app scaffold for Finance, Marketplace, and Real Estate"};function n({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{children:e})})}},24642:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var i=t(21671);t(15788);var s=t(65056);async function n({token:e,email:r}){let t=await s.default.verificationToken.findUnique({where:{token:e}});if(!t||t.identifier!==r)throw Error("Invalid or missing token");let i=new Date;if(t.expires<i)throw await s.default.verificationToken.deleteMany({where:{token:e}}),Error("Token expired");return await s.default.user.update({where:{email:r},data:{isApproved:!0,emailVerified:new Date}}),await s.default.verificationToken.deleteMany({where:{token:e}}),!0}async function a({searchParams:e}){let{token:r,email:t}=e||{};if(!r||!t)return(0,i.jsxs)("main",{className:"p-8",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Verification failed"}),i.jsx("p",{className:"mt-2",children:"Missing token or email."})]});try{return await n({token:r,email:t}),(0,i.jsxs)("main",{className:"p-8",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Verified"}),(0,i.jsxs)("p",{className:"mt-2",children:["Your email has been verified. You can now ",i.jsx("a",{href:"/login",children:"sign in"}),"."]})]})}catch(e){return(0,i.jsxs)("main",{className:"p-8",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Verification failed"}),i.jsx("p",{className:"mt-2",children:e?.message||"Invalid or expired token."})]})}}},65056:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,prisma:()=>s});var i=t(53524);let s=global.prisma||new i.PrismaClient,n=s},88432:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[2589,3881],()=>t(87851));module.exports=i})();